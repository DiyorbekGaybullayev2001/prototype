<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/image/logo.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap"
        rel="stylesheet">
    <link href="../style.css" rel="stylesheet" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Управление подпиской</title>
    <style>
        .wrapper {
            font-family: 'Nunito Sans', sans-serif;
        }
        h2{
            font-size: 60px !important;
            font-weight: 700 !important;
        }
        h4{
            font-size: 35px !important;
            font-weight: 500 !important;
        }
        p{
            font-size: 24px !important;
            font-weight: 400 !important;
        }
        #modal {
            background-color: #000000d7;

        }
    </style>
</head>

<body class="bg-[#2B2E3A]">
    <div class="wrapper bg-[#2B2E3A]">
        <div class="container max-w-7xl mt-0 mx-auto  columns-3 justify-between h-screen p-[0_15px]">
            <header class="flex justify-between mt-[66px] max-[550px]:mt-[30px]">
                <div class="header__left flex items-center gap-[25px]">
                    <button
                        class="back bg-white-important py-[20px] px-[12px] rounded-[48px] flex justify-center items-center"
                        onclick="window.history.back(); return false;">
                        <img src="/image/arrow-l.svg" alt="">
                    </button>
                    <a href="/pages/profile.html">
                        <img src="/image/avatar.png" alt="" class="max-w-[60px]">
                    </a>
                </div>
                <div class="flex items-center gap-[25px]">
                    <a href="/pages/main.html"
                        class="bg-white-important rounded-[48px] font-bold text-[25px] leading-[34.1px] text-center text-black px-[65px] py-[12px] max-[600px]:hidden">
                        Вернуться на главную
                    </a>
                    <a href="/pages/main.html"
                        class="hidden bg-white-important rounded-[48px] font-bold text-[25px] leading-[34.1px] text-center text-black px-[20px] py-[20px] max-[600px]:flex">
                        <img src="/image/home-ico.svg" alt="">
                    </a>
                </div>
            </header>
            <main class="mt-[50px]">
                <!-- Единый стиль заголовка -->
                <h2 class="text-white  text-[60px] mt-0-im opacity-90 max-[550px]:text-[16px] ">
                    Управление подпиской
                </h2>
                <div id="no-linked">
                    <h4 class="text-white  mt-[20px] opacity-90 max-[550px]:text-[16px]">Нет привязанных карт.</h4>
                    <p class="text-white  mt-[20px] opacity-90 max-[550px]:text-[16px]">
                        Добавьте хотя бы одну банковскую карту, чтобы подключить автоплатёж.
                    </p>
                    <br>
                    <button id="add-card-btn"
                        class="mx-left text-black mt-[40px] py-[12px] px-[25px] flex justify-between items-center w-[220px] rounded-[47px] font-semibold text-[16px] bg-white-important ">
                        Добавить карту  <img src="/image/arrow-r.svg" alt="">
                    </button>
                </div>

                <div id="linked" class="flex hidden justify-between items-center w-full max-[600px]:items-end">
                    <div>
                        <h4 class="text-white font-semibold text-[20px] mt-[20px] opacity-90 max-[550px]:text-[16px]">Подписка активна</h4>
                        <p class="text-white text-[18px] mt-[10px] opacity-90 max-[550px]:text-[14px]">
                            Действует автоматическое продление подписки на тариф.
                        </p>
                        <p class="text-white text-[18px] mt-[10px] opacity-90 max-[550px]:text-[14px]">
                            Следующий автоплатеж будет осуществлен: 21.12.2025
                        </p>
                        <div class="flex items-center gap-[25px] mt-[40px] max-[600px]:flex-col max-[600px]:items-start">
                            <button id="add-card-btn"
                                class="mx-left text-black py-[12px] px-[25px] flex justify-between items-center w-[220px] rounded-[47px] font-semibold text-[16px] bg-white-important max-[600px]:w-[200px]">
                                Сменить карту<img src="/image/arrow-r.svg" alt="">
                            </button>
                            <button id="auto-pay"
                                class="mx-left text-white border-2 border-solid py-[12px] px-[25px] items-center flex justify-between w-[220px] bg-transparent rounded-[47px] font-semibold text-[16px] whitespace-nowrap max-[600px]:w-[200px]">
                                Отключить автоплатеж<img class="invert" src="/image/arrow-r.svg" alt="">
                            </button>
                        </div>
                    </div>
                    <div class="w-[350px] p-[25px] h-[180px] bg-[#EDDA9F] rounded-[20px] flex flex-col justify-between max-[600px]:hidden">
                        <img class="max-w-[50px]" src="/image/card-item.svg" alt="">
                        <div>
                            <div class="flex items-center gap-[10px] mb-[6px]">
                                <span class="flex w-[12px] h-[12px] bg-[#2B2E3A] rounded-[68px]"></span>
                                <span class="flex w-[12px] h-[12px] bg-[#2B2E3A] rounded-[68px]"></span>
                                <span class="flex w-[12px] h-[12px] bg-[#2B2E3A] rounded-[68px]"></span>
                                <span class="flex w-[12px] h-[12px] bg-[#2B2E3A] rounded-[68px]"></span>
                                <h5 id="card-last4" class="font-normal text-[16px] text-[#2B2E3A]"></h5>
                            </div>
                            <h5 id="card-expiryy" class="font-normal text-[16px] text-[#2B2E3A]"></h5>
                        </div>
                    </div>
                </div>

               
            </main>
             <!-- Модалка "Добавить карту" -->
                <div id="modal" class="fixed inset-0 hidden   w-full h-[100vh] flex justify-center items-center z-1000">
                    <div class="bg-white p-6 rounded-lg w-[350px] ">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-[18px] font-semibold">Добавить карту</h3>
                            <button id="close-modal" class="text-gray-400 hover:text-black text-3xl p-[10px] font-bold">&times;</button>
                        </div>
                        <input id="card-number" type="text" placeholder="Номер карты" maxlength="19"
                            class="border border-gray-300 p-2 w-full mb-2 font-normal text-[16px]">
                        <input id="card-expiry" type="text" placeholder="MM/YY" maxlength="5"
                            class="border border-gray-300 p-2 w-full mb-2 font-normal text-[16px]">
                        <input id="card-cvc" type="text" placeholder="CVC" maxlength="3"
                            class="border border-gray-300 p-2 w-full mb-2 font-normal text-[16px]">
                        <button id="save-card"
                            class="bg-blue-500 text-white py-2 px-4 rounded w-full font-semibold text-[16px]">Сохранить</button>
                    </div>
                </div>
            <footer
                class="footer flex items-center justify-between text-white font-light text-[16px] leading-[27.28px] mb-[50px] max-[650px]:flex-col max-[650px]:items-start  max-[550px]:mb-[20px] max-[550px]:mt-[20px]">
                <div class="f-left flex flex-col items-start">
                    Все права защищены. <br> © 2025 ИП Распутин Иван Николаевич
                </div>
                <div class="f-right flex flex-col items-end max-[650px]:items-start">
                    <a href="/pages/agreement.html">Оферта</a>
                    <a href="/pages/agreement.html">Политика конфиденциальности</a>
                </div>
            </footer>
        </div>
    </div>
    <script type="module" src="/main.js"></script>
    <script>
        // 10.2: Открытие/закрытие модалки "Добавить карту"
        document.querySelectorAll('#add-card-btn').forEach(btn => {
            btn.onclick = () => document.getElementById('modal').classList.remove('hidden');
        });
        document.getElementById('close-modal').onclick = () => {
            document.getElementById('modal').classList.add('hidden');
        };
        document.getElementById('modal').onclick = function(e) {
            if (e.target === this) this.classList.add('hidden');
        };
    </script>
</body>


</html>